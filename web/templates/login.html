{% extends "base.html" %}
{% block content %}

<style>
  .auth-wrap { max-width: 520px; margin: 0 auto; padding: 8px 0; }
  .card { background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:18px; box-shadow: 0 10px 24px rgba(0,0,0,0.04); }
  .title { margin:0; font-size:22px; font-weight:950; }
  .sub { margin-top:6px; color:#64748b; font-size:13px; line-height:1.45; }
  .field { margin-top:12px; }
  label { display:block; font-weight:900; font-size:13px; margin-bottom:6px; color:#0f172a; }

  .input-wrap { position: relative; }
  input {
    width:100%; padding:12px; border-radius:12px; border:1px solid #d1d5db; font-size:14px;
    outline:none; background:#fff;
  }
  input:focus { border-color: #94a3b8; box-shadow: 0 0 0 3px rgba(148,163,184,.25); }

  .toggle {
    position:absolute; right:10px; top:50%; transform:translateY(-50%);
    border:1px solid #e5e7eb; background:#fff; border-radius:999px;
    padding:6px 10px; font-weight:900; font-size:12px; cursor:pointer;
    color:#0f172a;
  }
  .toggle:hover { background:#f8fafc; }

  .row { display:flex; justify-content:space-between; align-items:center; gap:10px; margin-top:10px; }
  .muted { color:#64748b; font-size:12px; text-decoration:none; font-weight:800; }
  .muted:hover { color:#0f172a; text-decoration:underline; }

  .divider { display:flex; align-items:center; gap:10px; margin:16px 0; color:#94a3b8; font-size:12px; font-weight:800; }
  .divider:before, .divider:after { content:""; height:1px; background:#e5e7eb; flex:1; }

  .btn {
    width:100%; padding:12px; border-radius:12px; border:1px solid #d1d5db; background:#fff;
    font-weight:950; cursor:pointer; text-decoration:none; display:inline-flex; justify-content:center; align-items:center; gap:10px;
  }
  .btn:hover { background:#f8fafc; }
  .btn-primary { background:#111827; border-color:#111827; color:#fff; }
  .btn-primary:hover { background:#0b1220; }
  .btn-google { background:#fff; border-color:#d1d5db; }
  .btn-google:hover { background:#f8fafc; }

  .tiny { font-size:12px; margin-top:12px; color:#64748b; line-height:1.5; }
  .tiny a { color:#0ea5e9; font-weight:900; text-decoration:none; }
  .tiny a:hover { text-decoration:underline; }
</style>

<div class="auth-wrap">
  <div class="card">
    <h2 class="title">Welcome back</h2>
    <div class="sub">Log in to manage follow-ups, schedules, and templates.</div>

    <form method="POST" action="{{ url_for('login') }}" autocomplete="on">
      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" name="email" placeholder="you@company.com" required autofocus autocomplete="email">
      </div>

      <div class="field">
        <label for="password">Password</label>
        <div class="input-wrap">
          <input id="password" type="password" name="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required autocomplete="current-password">
          <button class="toggle" type="button" id="pwToggle" aria-label="Show/Hide password">Show</button>
        </div>
      </div>

      <div class="row">
        <a class="muted" href="{{ url_for('forgot_password') }}">Forgot password?</a>
        <a class="muted" href="{{ url_for('register') }}">Create account</a>
      </div>

      <button class="btn btn-primary" type="submit" style="margin-top:14px;">
        Log in
      </button>
    </form>

    <div class="divider">or</div>

    <a class="btn btn-google" href="{{ url_for('auth_google') }}">
      <span aria-hidden="true">ðŸ”’</span> Continue with Google
    </a>

    <div class="tiny">
      By continuing, you agree to our <a href="{{ url_for('terms') if 'terms' in (request.url_rule.endpoint if request.url_rule else '') else '#' }}">Terms</a>
      and <a href="{{ url_for('privacy') if 'privacy' in (request.url_rule.endpoint if request.url_rule else '') else '#' }}">Privacy Policy</a>.
    </div>
  </div>
</div>

<script>
  // simple show/hide password
  const btn = document.getElementById("pwToggle");
  const pw = document.getElementById("password");
  if (btn && pw) {
    btn.addEventListener("click", () => {
      const isPw = pw.type === "password";
      pw.type = isPw ? "text" : "password";
      btn.textContent = isPw ? "Hide" : "Show";
    });
  }
</script>

{% endblock %}
